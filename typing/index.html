<head>
  <link id="pagestyle" rel="stylesheet" href="light.css">
</head>
<body>
  <div>
    $
    <span id="money">0</span>
  </div>
  <textarea id="typing-area" placeholder="Type the text here..."></textarea>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function () {
      $('#typing-area').on("paste", function (e) {
        e.preventDefault();
        alert("Heyyyyy... No cheating!");
      });
    });
  </script>
  <button id="submit-button" disabled onclick="
    typingArea.readOnly=true;
    submitButton.disabled=true;
    getButton.disabled=false;
    timerOn=false;
    // 80-s        -> +50%
    // 80s  - 100s -> +25%
    // 100s - 125s -> +10%
    // 125s - 150s -> -10%
    // 200s - 225s -> -25%
    // 225+s       -> -50%
    let longer=Math.max(typingArea.value.length,sampleArea.value.length);
    resultChar.innerHTML=longer;
    let accuracy=(longer-levenshtein(typingArea.value,sampleArea.value))/longer;
    resultAcc.innerHTML=Math.round(accuracy*100);
    resultTime.innerHTML=currTime;
    let timeBonus=0;
    if (currTime<80) {
      timeBonus=0.5;
    } else if (currTime<100) {
      timeBonus=0.25;
    } else if (currTime<125) {
      timeBonus=0.1;
    } else if (currTime<150) {
      timeBonus=-0.1;
    } else if (currTime<225) {
      timeBonus=-0.25;
    } else {
      timeBonus=-0.5;
    }
    resultTimeBonus.innerHTML=timeBonus*100;
    let moneyEarned=Math.round(100*longer*accuracy*(1+timeBonus))/100;
    resultMoney.innerHTML=moneyEarned;
    changeMoney(moneyEarned);
    resultDisplay.setAttribute('style','height: 150;');
  ">Submit Text!</button>
  <div id="results-display" style="height: 0;">
    <br>
    Characters typed: <span id="results-chars">0</span>
    <br>
    Time taken: <span id="results-time">0</span>s
    <br>
    Time bonus: <span id="results-bonus">0</span>%
    <br>
    Accuracy: <span id="results-acc">0</span>%
    <br>
    Money earned: $<span id="results-money">0</span>
  </div>
  <textarea id="sample-area" placeholder="Text will show up here..." readonly></textarea>
  <script>
    document.getElementById('sample-area').style.pointerEvents='none';
  </script>
  <button id="get-button" onclick="
    typingArea.readOnly=false;    
    typingArea.value='';
    submitButton.disabled=false;
    getButton.disabled=true;
    timerOn=true;
    sampleArea.value=texts.random();
    typingArea.focus();
    resultDisplay.setAttribute('style','height: 0;');
  ">Get Text!</button>
  <p id="timer">Time will show here...</p>
  <script src="texts.js"></script>
  <script src="definitions.js"></script>
  <script src="money.js"></script>
</body>
